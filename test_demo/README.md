# A2Aèµ„æºå¤„ç†ç³»ç»Ÿæµ‹è¯•Demo

è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„A2A (Agent-to-Agent) èµ„æºå¤„ç†ç³»ç»Ÿæµ‹è¯•Demoï¼Œå±•ç¤ºäº†å¤šAgentåä½œå®Œæˆå¤æ‚å·¥ä½œæµçš„è¿‡ç¨‹ã€‚

## ğŸ¯ DemoåŠŸèƒ½

è¿™ä¸ªDemoå°†æ¼”ç¤ºï¼š

1. **èµ„æºåˆ†æ** - æ‰«æç›®å½•ï¼Œè¯†åˆ«å›¾ç‰‡æ–‡ä»¶å’Œå…¶ä»–èµ„æº
2. **å›¾åƒå¤„ç†** - å°†å›¾ç‰‡çš„ä¸»é¢˜è‰²æ›¿æ¢ä¸ºæŒ‡å®šé¢œè‰²ï¼ˆçº¢è‰²ï¼‰
3. **èµ„æºæ›¿æ¢** - å®‰å…¨åœ°æ›¿æ¢åŸå§‹æ–‡ä»¶ï¼ŒåŒ…æ‹¬å¤‡ä»½æœºåˆ¶
4. **å·¥ä½œæµç¼–æ’** - åè°ƒå¤šä¸ªAgentæŒ‰é¡ºåºå®Œæˆä»»åŠ¡

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Orchestrator  â”‚â”€â”€â”€â–¶â”‚Resource Analyzerâ”‚â”€â”€â”€â–¶â”‚ Image Processor â”‚â”€â”€â”€â–¶â”‚Resource Replacerâ”‚
â”‚   (ç«¯å£ 8000)   â”‚    â”‚   (ç«¯å£ 8001)   â”‚    â”‚   (ç«¯å£ 8002)   â”‚    â”‚   (ç«¯å£ 8003)   â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ å·¥ä½œæµç¼–æ’      â”‚    â”‚ ç›®å½•æ‰«æ        â”‚    â”‚ å›¾åƒä¸»é¢˜è‰²æ›¿æ¢  â”‚    â”‚ æ–‡ä»¶æ›¿æ¢å¤‡ä»½    â”‚
â”‚ Agentåè°ƒ       â”‚    â”‚ æ–‡ä»¶åˆ†æ        â”‚    â”‚ é¢œè‰²ç©ºé—´è½¬æ¢    â”‚    â”‚ ç‰ˆæœ¬æ§åˆ¶        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

- Python 3.10+
- UV åŒ…ç®¡ç†å™¨
- æ‰€éœ€PythonåŒ…ï¼š
  - `a2a-sdk>=0.2.6` (Google A2A SDK)
  - `httpx`, `rich`, `click`, `pillow`
  - `uvicorn`, `pydantic`

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹æ³•1: è¿è¡Œå®Œæ•´Demo (æ¨è)

```bash
# è¿›å…¥Demoç›®å½•
cd test_demo

# è¿è¡Œå®Œæ•´Demoï¼ˆè‡ªåŠ¨åˆ›å»ºæµ‹è¯•å›¾ç‰‡ã€å¯åŠ¨æ‰€æœ‰Agentã€æ‰§è¡Œå·¥ä½œæµï¼‰
python run_demo.py
```

### æ–¹æ³•2: æ‰‹åŠ¨æ­¥éª¤

```bash
# 1. åˆ›å»ºæµ‹è¯•å›¾ç‰‡
cd test_demo
python create_test_images.py

# 2. å¯åŠ¨æ‰€æœ‰Agent (éœ€è¦4ä¸ªç»ˆç«¯çª—å£)
# ç»ˆç«¯1 - Orchestrator
cd ../orchestrator && uv run app --port 8000

# ç»ˆç«¯2 - Resource Analyzer  
cd ../resource-analyzer && uv run app --port 8001

# ç»ˆç«¯3 - Image Processor
cd ../image-processor && uv run app --port 8002

# ç»ˆç«¯4 - Resource Replacer
cd ../resource-replacer && uv run app --port 8003

# 3. è¿è¡Œæµ‹è¯•å®¢æˆ·ç«¯
cd ../orchestrator
uv run python test_client.py --message "å¸®æˆ‘åˆ†æä¸€ä¸‹ ../test_demo/test_images ç›®å½•ä¸­çš„æ‰€æœ‰èµ„æºï¼Œå¹¶æ›¿æ¢æ‰€æœ‰èµ„æºå›¾ç‰‡çš„ä¸»é¢˜è‰²ä¸ºçº¢è‰²"
```

## ğŸ“ Demoç›®å½•ç»“æ„

```
test_demo/
â”œâ”€â”€ README.md                 # æœ¬è¯´æ˜æ–‡ä»¶
â”œâ”€â”€ run_demo.py              # å®Œæ•´Demoè¿è¡Œè„šæœ¬
â”œâ”€â”€ create_test_images.py    # æµ‹è¯•å›¾ç‰‡ç”Ÿæˆè„šæœ¬
â””â”€â”€ test_images/            # æµ‹è¯•å›¾ç‰‡ç›®å½•ï¼ˆè¿è¡Œåç”Ÿæˆï¼‰
    â”œâ”€â”€ blue_sample.png
    â”œâ”€â”€ green_sample.png
    â”œâ”€â”€ yellow_sample.png
    â”œâ”€â”€ purple_sample.png
    â”œâ”€â”€ orange_sample.png
    â”œâ”€â”€ readme.txt
    â””â”€â”€ subfolder/
        â”œâ”€â”€ cyan_image.png
        â””â”€â”€ magenta_image.png
```

## ğŸ” è¿è¡Œç»“æœ

DemoæˆåŠŸè¿è¡Œåï¼Œä½ å°†çœ‹åˆ°ï¼š

1. **æµ‹è¯•å›¾ç‰‡åˆ›å»º** - 7å¼ ä¸åŒé¢œè‰²çš„æµ‹è¯•å›¾ç‰‡
2. **Agentå¯åŠ¨** - 4ä¸ªAgentæœåŠ¡å¯åŠ¨å¹¶æŠ¥å‘Šå¥åº·çŠ¶æ€
3. **å·¥ä½œæµæ‰§è¡Œ** - å®Œæ•´çš„èµ„æºå¤„ç†æµç¨‹
4. **ç»“æœæ˜¾ç¤º** - å¤„ç†ç»Ÿè®¡å’Œè¯¦ç»†æ—¥å¿—

### é¢„æœŸè¾“å‡ºç¤ºä¾‹

```
ğŸ­ A2Aèµ„æºå¤„ç†ç³»ç»Ÿå®Œæ•´æµ‹è¯•Demo
æœ¬Demoå°†å±•ç¤ºå¤šAgentåä½œå®Œæˆèµ„æºå¤„ç†å·¥ä½œæµ
åŒ…æ‹¬ï¼šèµ„æºåˆ†æ â†’ å›¾åƒå¤„ç† â†’ èµ„æºæ›¿æ¢

ğŸ“ æ­¥éª¤1: åˆ›å»ºæµ‹è¯•æ•°æ®
ğŸ¨ åˆ›å»ºæµ‹è¯•å›¾ç‰‡...
âœ… åˆ›å»ºæµ‹è¯•å›¾ç‰‡: test_images/blue_sample.png (blue)
âœ… åˆ›å»ºæµ‹è¯•å›¾ç‰‡: test_images/green_sample.png (green)
...

ğŸš€ æ­¥éª¤2: å¯åŠ¨æ‰€æœ‰AgentæœåŠ¡
ğŸš€ å¯åŠ¨ orchestrator Agent (ç«¯å£ 8000)
ğŸš€ å¯åŠ¨ resource-analyzer Agent (ç«¯å£ 8001)
ğŸš€ å¯åŠ¨ image-processor Agent (ç«¯å£ 8002)
ğŸš€ å¯åŠ¨ resource-replacer Agent (ç«¯å£ 8003)

â³ æ­¥éª¤3: ç­‰å¾…Agentå‡†å¤‡å°±ç»ª
âœ… æ‰€æœ‰Agentå·²å‡†å¤‡å°±ç»ª!

ğŸ§ª æ­¥éª¤4: è¿è¡Œèµ„æºå¤„ç†å·¥ä½œæµ
âœ… å·¥ä½œæµæ‰§è¡ŒæˆåŠŸ!

ğŸ“Š æ­¥éª¤5: Demoæ€»ç»“
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ ç»„ä»¶              â”ƒ çŠ¶æ€      â”ƒ ç«¯å£  â”ƒ åŠŸèƒ½         â”ƒ
â”¡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”©
â”‚ orchestrator      â”‚ âœ… è¿è¡Œä¸­ â”‚ 8000  â”‚ å·¥ä½œæµç¼–æ’   â”‚
â”‚ resource-analyzer â”‚ âœ… è¿è¡Œä¸­ â”‚ 8001  â”‚ èµ„æºåˆ†æ     â”‚
â”‚ image-processor   â”‚ âœ… è¿è¡Œä¸­ â”‚ 8002  â”‚ å›¾åƒå¤„ç†     â”‚
â”‚ resource-replacer â”‚ âœ… è¿è¡Œä¸­ â”‚ 8003  â”‚ èµ„æºæ›¿æ¢     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ‰ Demoæ‰§è¡ŒæˆåŠŸ!
A2Aèµ„æºå¤„ç†ç³»ç»Ÿå·²å®Œæˆå®Œæ•´çš„å·¥ä½œæµæ¼”ç¤ºã€‚
ä½ å¯ä»¥æ£€æŸ¥test_imagesç›®å½•æŸ¥çœ‹å¤„ç†ç»“æœã€‚
```

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ç«¯å£è¢«å ç”¨**
   ```bash
   # æ£€æŸ¥ç«¯å£å ç”¨
   lsof -i :8000
   lsof -i :8001
   lsof -i :8002
   lsof -i :8003
   
   # æ€æ­»å ç”¨è¿›ç¨‹
   kill -9 <PID>
   ```

2. **ä¾èµ–ç¼ºå¤±**
   ```bash
   # å®‰è£…ä¾èµ–
   cd orchestrator && uv sync
   cd ../resource-analyzer && uv sync
   cd ../image-processor && uv sync  
   cd ../resource-replacer && uv sync
   ```

3. **æƒé™é—®é¢˜**
   ```bash
   # ç¡®ä¿è„šæœ¬å¯æ‰§è¡Œ
   chmod +x run_demo.py
   chmod +x create_test_images.py
   ```

### è°ƒè¯•æ¨¡å¼

å¦‚æœéœ€è¦è°ƒè¯•ï¼Œå¯ä»¥å•ç‹¬å¯åŠ¨Agentå¹¶æŸ¥çœ‹æ—¥å¿—ï¼š

```bash
# ä»¥è°ƒè¯•æ¨¡å¼å¯åŠ¨Orchestrator
cd orchestrator
uv run app --port 8000 --debug
```

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [A2A SDKæ–‡æ¡£](https://github.com/google-a2a/A2A)
- [é¡¹ç›®README](../README.md)
- [Agentæ¶æ„è®¾è®¡](../README.md#architecture)

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **æµ‹è¯•ç¯å¢ƒ** - è¿™ä¸ªDemoä»…ç”¨äºæ¼”ç¤ºå’Œæµ‹è¯•ï¼Œä¸é€‚ç”¨äºç”Ÿäº§ç¯å¢ƒ
2. **æ•°æ®å®‰å…¨** - Demoä¼šä¿®æ”¹æµ‹è¯•å›¾ç‰‡ï¼Œè¯·ç¡®ä¿ä½¿ç”¨ä¸“é—¨çš„æµ‹è¯•ç›®å½•
3. **èµ„æºæ¸…ç†** - Demoä¼šè‡ªåŠ¨æ¸…ç†å¯åŠ¨çš„Agentè¿›ç¨‹
4. **ç½‘ç»œè¦æ±‚** - éœ€è¦æœ¬åœ°ç«¯å£8000-8003å¯ç”¨

## ğŸ’¡ æ‰©å±•å»ºè®®

ä½ å¯ä»¥åŸºäºè¿™ä¸ªDemoè¿›è¡Œæ‰©å±•ï¼š

1. **æ·»åŠ æ›´å¤šAgent** - å®ç°æ›´å¤æ‚çš„å¤„ç†æµç¨‹
2. **æ”¯æŒæ›´å¤šæ ¼å¼** - å¤„ç†è§†é¢‘ã€éŸ³é¢‘ç­‰å…¶ä»–åª’ä½“æ–‡ä»¶
3. **äº‘ç«¯éƒ¨ç½²** - å°†Agentéƒ¨ç½²åˆ°ä¸åŒçš„æœåŠ¡å™¨
4. **ç›‘æ§é¢æ¿** - æ·»åŠ å®æ—¶ç›‘æ§å’Œæ—¥å¿—æŸ¥çœ‹ç•Œé¢
5. **é…ç½®ç®¡ç†** - æ”¯æŒåŠ¨æ€é…ç½®Agentå‚æ•°

---

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥å„Agentçš„æ—¥å¿—æ–‡ä»¶æˆ–æŸ¥çœ‹é¡¹ç›®æ–‡æ¡£ã€‚ 